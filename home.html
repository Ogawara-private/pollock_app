<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ホーム - 資格勉強チャットアプリ</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="home-body">
  <!-- ヘッダー -->
  <header class="top-menu">
    <h1 class="home-title">📚資格勉強チャットアプリ</h1>
    <nav>
      <button id="homeBtn">🏠 ホーム</button>
      <button id="chatBtn">💬 チャット</button>
      <button id="postentranceBtn">📚 記録</button>
      <button id="logoutBtn">🚪 ログアウト</button>
    </nav>
  </header>

  <!-- メインコンテンツ -->
  <main>
    <h2 id="welcome"></h2>
    
  <div class="widget-container">
    <!-- 試験日まで -->
    <div class="widget" id="examCountdown">
      <h3>資格試験受験予定一覧</h3>
    </div>

    <!-- 最近の学習履歴 -->
    <div class="widget" id="recentHistory">
      <h3>最近の学習履歴</h3>
      <ul id="historyList"></ul>
    </div>
    
    <!-- 最近の学習ランキング -->
    <div class="widget" id="rankingWidget">
      <h3>学習時間ランキング🏆</h3>
      <ol id="rankingList"></ol>
    </div>    

  </div>
  <!-- 学習時間グラフ -->
    <div class="widget" id="studyTimeChart">
      <h3>学習時間</h3>
    <div style="display: flex; gap: 20px; height: 300px;">
      <!-- 左：資格別学習時間 -->
      <canvas id="weeklyChart" style="flex: 1;"></canvas>

      <!-- 右：先週・今週比較 -->
      <canvas id="weeklyComparisonChart" style="flex: 1;"></canvas>
    </div>
    </div> 
  </main>

  <script>
    // ログインユーザー確認
    const user = localStorage.getItem('chatUser');
    if (!user) {
      window.location.href = 'index.html';
    }
    document.getElementById('welcome').textContent = `${user} さん、こんにちは！`;

    // ボタン動作
    document.getElementById('homeBtn').addEventListener('click', () => {
      window.location.href = 'home.html';
    });
    document.getElementById('chatBtn').addEventListener('click', () => {
      window.location.href = 'chat.html';
    });
     document.getElementById('postentranceBtn').addEventListener('click', () => {
      window.location.href = 'post.html';
    });
    document.getElementById('logoutBtn').addEventListener('click', () => {
      localStorage.removeItem('chatUser');
      window.location.href = 'index.html';
    });
  </script>
   <!-- Chart.jsを読み込む -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="js/home.js"></script>
 

</body>
</html>
